<!DOCTYPE html><html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PFCãƒãƒ©ãƒ³ã‚¹ & BMIè¨ˆç®—æ©Ÿ</title>
  <style>
    body {
      font-family: "Arial", sans-serif;
      background: #fff8f8;
      padding: 20px;
      color: #333;
    }
    .container {
      max-width: 500px;
      margin: auto;
      background: #fff;
      border-radius: 15px;
      padding: 20px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    label {
      display: block;
      margin-top: 10px;
      font-weight: bold;
    }
    input, select {
      width: 100%;
      padding: 8px;
      margin-top: 5px;
      border-radius: 10px;
      border: 1px solid #ccc;
    }
    button {
      background: #f5a9bc;
      color: white;
      padding: 10px;
      margin-top: 15px;
      border: none;
      width: 100%;
      font-size: 16px;
      border-radius: 10px;
      cursor: pointer;
    }
    .result {
      margin-top: 20px;
      background: #fff0f5;
      padding: 15px;
      border-radius: 10px;
    }
    .alert {
      background: #ffe0e0;
      color: #b30000;
      padding: 10px;
      border-radius: 10px;
      margin-top: 10px;
      font-weight: bold;
    }
    ul {
      padding-left: 20px;
    }
  </style>
</head>
<body>
<div class="container">
  <h2>PFCãƒãƒ©ãƒ³ã‚¹ & BMIè¨ˆç®—æ©Ÿ</h2>
  <label>æ€§åˆ¥</label>
  <select id="gender">
    <option value="female">å¥³æ€§</option>
    <option value="male">ç”·æ€§</option>
  </select><label>èº«é•· (cm)</label> <input type="number" id="height">

<label>ç¾åœ¨ã®ä½“é‡ (kg)</label> <input type="number" id="currentWeight">

<label>æ´»å‹•é‡</label> <select id="activity"> <option value="1.2">ä½ã„ï¼ˆåº§ã‚ŠãŒã¡ï¼‰</option> <option value="1.375">æ™®é€šï¼ˆè»½ã„é‹å‹•ï¼‰</option> <option value="1.55">ã‚„ã‚„é«˜ã„ï¼ˆä¸­ç¨‹åº¦ã®é‹å‹•ï¼‰</option> <option value="1.725">é«˜ã„ï¼ˆæ¿€ã—ã„é‹å‹•ï¼‰</option> </select>

<label>ç›®æ¨™ä½“é‡ (kg)</label> <input type="number" id="targetWeight">

<label>ç›®æ¨™æœŸé–“ (ãƒ¶æœˆ)</label> <input type="number" id="months">

<button onclick="calculateAll()">è¨ˆç®—ã™ã‚‹</button>

  <div id="result" class="result"></div>
</div><script>
function calculateAll() {
  const gender = document.getElementById("gender").value;
  const height = parseFloat(document.getElementById("height").value);
  const weight = parseFloat(document.getElementById("currentWeight").value);
  const activity = parseFloat(document.getElementById("activity").value);
  const targetWeight = parseFloat(document.getElementById("targetWeight").value);
  const months = parseFloat(document.getElementById("months").value);

  const heightM = height / 100;
  const bmi = weight / (heightM * heightM);
  const targetBMI = targetWeight / (heightM * heightM);
  const bmr = gender === "female"
    ? 10 * weight + 6.25 * height - 5 * 30 - 161
    : 10 * weight + 6.25 * height - 5 * 30 + 5;
  const tdee = bmr * activity;

  const p = Math.round((tdee * 0.3) / 4);
  const f = Math.round((tdee * 0.25) / 9);
  const c = Math.round((tdee * 0.45) / 4);

  const totalLossKg = weight - targetWeight;
  const dailyDeficit = totalLossKg > 0 ? totalLossKg * 7700 / (months * 30) : 0;
  const adjustedTdee = tdee - dailyDeficit;

  let alertText = "";
  if (targetBMI < 18.5) {
    alertText = "âš ï¸ ç›®æ¨™ä½“é‡ã«ã™ã‚‹ã¨BMIãŒ18.5ã‚’ä¸‹å›ã‚Šã¾ã™ã€‚å¥åº·çš„ãªæ¸›é‡ã‚’å¿ƒãŒã‘ã¾ã—ã‚‡ã†ï¼";
  } else if (totalLossKg <= 0) {
    alertText = "âœ… ã™ã§ã«ç›®æ¨™ä½“é‡ä»¥ä¸‹ã§ã™ï¼";
  }

  // é£Ÿå“ã¨é‹å‹•ã®ã‚«ãƒ­ãƒªãƒ¼æ›ç®—
  const deficit = dailyDeficit.toFixed(0);
  const foodInfo = `
    <ul>
      <li>æ²¹ï¼ˆå¤§ã•ã˜1ï¼‰ç´„111 kcal â†’ ${Math.round(deficit / 111)} æ¯åˆ†</li>
      <li>ã‚·ãƒ§ãƒ¼ãƒˆã‚±ãƒ¼ã‚­ï¼ˆ1å€‹ ç´„330 kcalï¼‰â†’ ç´„ ${Math.round(deficit / 330)} å€‹åˆ†</li>
      <li>ã‚¯ãƒ­ãƒ¯ãƒƒã‚µãƒ³ï¼ˆ1å€‹ ç´„230 kcalï¼‰â†’ ç´„ ${Math.round(deficit / 230)} å€‹åˆ†</li>
      <li>ãƒãƒ†ãƒï¼ˆ30g ç´„168 kcalï¼‰â†’ ç´„ ${Math.round(deficit / 168)} è¢‹åˆ†</li>
    </ul>`;

  const exerciseInfo = `
    <ul>
      <li>ã‚¦ã‚©ãƒ¼ã‚­ãƒ³ã‚°ï¼ˆæ™‚é€Ÿ4kmï¼‰ï¼šç´„3.5kcal/kg/æ™‚ â†’ ç´„ ${Math.round(deficit / (3.5 * weight / 60))} åˆ†</li>
      <li>ã‚¸ãƒ§ã‚®ãƒ³ã‚°ï¼ˆæ™‚é€Ÿ8kmï¼‰ï¼šç´„8kcal/kg/æ™‚ â†’ ç´„ ${Math.round(deficit / (8 * weight / 60))} åˆ†</li>
      <li>æ°´æ³³ï¼ˆå¹³æ³³ãï¼‰ï¼šç´„10kcal/kg/æ™‚ â†’ ç´„ ${Math.round(deficit / (10 * weight / 60))} åˆ†</li>
    </ul>`;

  document.getElementById("result").innerHTML = `
    <div><strong>ğŸŒŸ PFCãƒãƒ©ãƒ³ã‚¹:</strong><br>
    ã‚¿ãƒ³ãƒ‘ã‚¯è³ª: ${p}g / è„‚è³ª: ${f}g / ç‚­æ°´åŒ–ç‰©: ${c}g</div><br>
    <div><strong>ğŸ”‹ æ¨å®šæ¶ˆè²»ã‚«ãƒ­ãƒªãƒ¼ (TDEE):</strong> ${tdee.toFixed(0)} kcal</div>
    <div><strong>ğŸ“‰ æ¸›é‡ä¸­ã®ç›®å®‰æ‘‚å–ã‚«ãƒ­ãƒªãƒ¼:</strong> ${adjustedTdee.toFixed(0)} kcal</div>
    <div><strong>ğŸ“ ç¾åœ¨ã®BMI:</strong> ${bmi.toFixed(1)}</div>
    <div><strong>ğŸ¯ ç›®æ¨™BMI:</strong> ${targetBMI.toFixed(1)}</div>
    <div><strong>ğŸ”¥ 1æ—¥ã‚ãŸã‚Šã®ç›®å®‰ã‚«ãƒ­ãƒªãƒ¼å‰Šæ¸›:</strong> ${dailyDeficit.toFixed(1)} kcal</div>
    ${alertText ? `<div class="alert">${alertText}</div>` : ""}
    <div><strong>ğŸ° ã“ã®ã‚«ãƒ­ãƒªãƒ¼ã‚’æ¶ˆè²»ã™ã‚‹ã«ã¯ï¼Ÿ</strong>${foodInfo}</div>
    <div><strong>ğŸ’ª ã“ã®ã‚«ãƒ­ãƒªãƒ¼ã‚’é‹å‹•ã§æ¶ˆè²»ã™ã‚‹ã«ã¯ï¼Ÿ</strong>${exerciseInfo}</div>
  `;
}
</script></body>
</html>
